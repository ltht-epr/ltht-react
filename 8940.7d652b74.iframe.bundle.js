"use strict";(self.webpackChunk_ltht_react_storybook=self.webpackChunk_ltht_react_storybook||[]).push([[8940],{"../../components/styled/table/lib/atoms/questionnaire-withdrawn-table-cell.js":function(__unused_webpack_module,exports,__webpack_require__){var __makeTemplateObject=this&&this.__makeTemplateObject||function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var templateObject_1,jsx_runtime_1=__webpack_require__("../../node_modules/react/jsx-runtime.js"),StyledText=__importDefault(__webpack_require__("../../node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js")).default.div(templateObject_1||(templateObject_1=__makeTemplateObject(["\n  text-decoration: line-through;\n  color: gray;\n"],["\n  text-decoration: line-through;\n  color: gray;\n"])));exports.default=function(_a){var text=_a.text;return(0,jsx_runtime_1.jsx)(StyledText,{children:null!=text?text:""})}},"../../components/styled/table/lib/index.js":function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.mapQuestionnaireToTableData=exports.QuestionnaireTable=exports.GenericTable=void 0;var table_1=__importDefault(__webpack_require__("../../components/styled/table/lib/molecules/table.js")),generic_table_1=__importDefault(__webpack_require__("../../components/styled/table/lib/organisms/generic-table.js"));exports.GenericTable=generic_table_1.default;var questionnaire_table_1=__importDefault(__webpack_require__("../../components/styled/table/lib/organisms/questionnaire-table.js"));exports.QuestionnaireTable=questionnaire_table_1.default,exports.default=table_1.default;var questionnaire_table_methods_1=__webpack_require__("../../components/styled/table/lib/organisms/questionnaire-table-methods.js");Object.defineProperty(exports,"mapQuestionnaireToTableData",{enumerable:!0,get:function(){return __importDefault(questionnaire_table_methods_1).default}})},"../../components/styled/table/lib/molecules/table-cell.js":function(__unused_webpack_module,exports,__webpack_require__){var __makeTemplateObject=this&&this.__makeTemplateObject||function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked},__assign=this&&this.__assign||function(){return __assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__assign.apply(this,arguments)},__createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);desc&&!("get"in desc?!m.__esModule:desc.writable||desc.configurable)||(desc={enumerable:!0,get:function(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var templateObject_1,templateObject_2,jsx_runtime_1=__webpack_require__("../../node_modules/react/jsx-runtime.js"),react_1=__webpack_require__("../../node_modules/react/index.js"),button_1=__webpack_require__("../../components/styled/button/lib/index.js"),styled_1=__importDefault(__webpack_require__("../../node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js")),icon_1=__importStar(__webpack_require__("../../components/styled/icon/lib/index.js")),menu_1=__importDefault(__webpack_require__("../../components/styled/menu/lib/index.js")),styles_1=__webpack_require__("../styles/lib/index.js"),StyledIconText=styled_1.default.span(templateObject_1||(templateObject_1=__makeTemplateObject(["\n  margin-left: 0.4rem;\n"],["\n  margin-left: 0.4rem;\n"]))),StyledActionMenuContainer=styled_1.default.div(templateObject_2||(templateObject_2=__makeTemplateObject(["\n  display: flex;\n  justify-content: center;\n"],["\n  display: flex;\n  justify-content: center;\n"])));exports.default=function(_a){var id=_a.id,adminActions=_a.adminActions,_b=_a.isButton,isButton=void 0!==_b&&_b,text=_a.text,iconProps=_a.iconProps,_c=_a.headerAxis,headerAxis=void 0===_c?"x":_c,clickHandler=_a.clickHandler,customComponentOverride=_a.customComponentOverride,actionMenuRootElementRef=(0,react_1.useRef)(null);return customComponentOverride||(adminActions?0===adminActions.length?(0,jsx_runtime_1.jsx)(jsx_runtime_1.Fragment,{}):(0,jsx_runtime_1.jsx)(StyledActionMenuContainer,{ref:actionMenuRootElementRef,children:(0,jsx_runtime_1.jsx)(menu_1.default,{root:actionMenuRootElementRef,id:"".concat("".concat(null!=id?id:"","-"),"action-menu-button"),actions:adminActions,menuButtonOptions:{type:"button",text:"",buttonProps:{styling:{buttonStyle:"standard",padding:"x"===headerAxis?"0.3rem 0.5rem":"0.15rem 0.3rem"},icon:(0,jsx_runtime_1.jsx)(icon_1.default,{type:"x"===headerAxis?"ellipsis-vertical":"ellipsis-horizontal",size:"medium"}),iconPlacement:"center",color:"".concat(styles_1.BTN_COLOURS.DANGER.VALUE)}},style:{width:"fit-content"}})}):isButton?(0,jsx_runtime_1.jsx)(button_1.Button,{id,value:text,icon:iconProps&&(0,jsx_runtime_1.jsx)(icon_1.default,__assign({},iconProps)),onClick:clickHandler}):clickHandler&&iconProps?(0,jsx_runtime_1.jsx)(icon_1.IconButton,{id,iconProps,text,onClick:clickHandler}):iconProps?(0,jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment,{children:[(0,jsx_runtime_1.jsx)(icon_1.default,__assign({},iconProps)),text&&(0,jsx_runtime_1.jsx)(StyledIconText,{children:text})]}):text?(0,jsx_runtime_1.jsx)("div",{id,children:null!=text?text:""}):(0,jsx_runtime_1.jsx)(jsx_runtime_1.Fragment,{}))}},"../../components/styled/table/lib/molecules/table-component.js":function(__unused_webpack_module,exports,__webpack_require__){var __assign=this&&this.__assign||function(){return __assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__assign.apply(this,arguments)},__rest=this&&this.__rest||function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.TableSpinner=exports.TableNavigationButton=void 0;var jsx_runtime_1=__webpack_require__("../../node_modules/react/jsx-runtime.js"),icon_1=__importDefault(__webpack_require__("../../components/styled/icon/lib/index.js")),react_table_1=__webpack_require__("../../node_modules/@tanstack/react-table/build/lib/index.js"),react_1=__webpack_require__("../../node_modules/react/index.js"),table_methods_1=__webpack_require__("../../components/styled/table/lib/molecules/table-methods.js"),table_styled_components_1=__webpack_require__("../../components/styled/table/lib/molecules/table-styled-components.js"),useDimensionRef_1=__importDefault(__webpack_require__("../../components/styled/table/lib/molecules/useDimensionRef.js")),table_header_1=__importDefault(__webpack_require__("../../components/styled/table/lib/molecules/table-header.js"));exports.TableNavigationButton=function(_a){var position=_a.position,hidden=_a.hidden,clickHandler=_a.clickHandler;return(0,jsx_runtime_1.jsx)(table_styled_components_1.StyledNextPageButtonContainer,{role:"button",elementPosition:position,onClick:function(){return clickHandler()},hidden,children:(0,jsx_runtime_1.jsx)(icon_1.default,{type:"chevron",direction:"bottom"===position?"down":"right",size:"medium"})})};exports.TableSpinner=function(_a){var position=_a.position,hidden=_a.hidden;return(0,jsx_runtime_1.jsx)(table_styled_components_1.StyledSpinnerContainer,{elementPosition:position,hidden,children:(0,jsx_runtime_1.jsx)(icon_1.default,{type:"spinner",size:"medium",title:"Loading..."})})},exports.default=function(_a){var table=_a.table,_b=_a.staticColumns,staticColumns=void 0===_b?0:_b,headerAxis=_a.headerAxis,rest=__rest(_a,["table","staticColumns","headerAxis"]),tableIdPrefix=rest.id?"".concat(rest.id,"-"):"",firstColumn=(0,react_1.useRef)(null),secondColumn=(0,react_1.useRef)(null),tableElement=(0,react_1.useRef)(null),firstColumnWidth=(0,useDimensionRef_1.default)(firstColumn,tableElement).width,secondColumnWidth=(0,useDimensionRef_1.default)(secondColumn,tableElement).width,usingExpanderColumn=table.getHeaderGroups().some((function(x){return x.headers.some((function(h){return"expander"===h.column.id}))})),totalStaticColumns=(0,react_1.useMemo)((function(){return usingExpanderColumn?staticColumns+1:staticColumns}),[usingExpanderColumn,staticColumns]);return(0,jsx_runtime_1.jsxs)(table_styled_components_1.StyledTable,__assign({ref:tableElement},rest,{children:[(0,jsx_runtime_1.jsx)(table_styled_components_1.StyledTHead,{children:table.getHeaderGroups().map((function(headerGroup){return(0,jsx_runtime_1.jsx)("tr",{id:"".concat(tableIdPrefix).concat(headerGroup.id),role:"row",children:headerGroup.headers.map((function(header,headerIndex){return function(header,headerIndex){var headerProps={header,stickyWidth:(0,table_methods_1.calculateStaticColumnOffset)(headerIndex,totalStaticColumns,firstColumnWidth,secondColumnWidth)};switch(headerIndex){case 0:return(0,jsx_runtime_1.jsx)(table_header_1.default,__assign({tableId:tableIdPrefix,ref:firstColumn},headerProps),header.id);case 1:return(0,jsx_runtime_1.jsx)(table_header_1.default,__assign({tableId:tableIdPrefix,ref:secondColumn},headerProps),header.id);default:return(0,jsx_runtime_1.jsx)(table_header_1.default,__assign({tableId:tableIdPrefix},headerProps),header.id)}}(header,headerIndex)}))},headerGroup.id)}))}),(0,jsx_runtime_1.jsx)("tbody",{children:table.getRowModel().rows.map((function(row){return(0,jsx_runtime_1.jsx)(table_styled_components_1.StyledTableRow,{tableHeaderAxis:headerAxis,role:"row",children:row.getVisibleCells().map((function(cell,cellIdx){var _a;return(0,jsx_runtime_1.jsx)(table_styled_components_1.StyledTableData,{tableHeaderAxis:headerAxis,stickyWidth:(0,table_methods_1.calculateStaticColumnOffset)(cellIdx,totalStaticColumns,firstColumnWidth,secondColumnWidth),id:"".concat(tableIdPrefix).concat(cell.id),role:"cell",style:null===(_a=cell.getValue())||void 0===_a?void 0:_a.parentStyle,children:(0,react_table_1.flexRender)(cell.column.columnDef.cell,cell.getContext())},cell.id)}))},row.id)}))})]}))}},"../../components/styled/table/lib/molecules/table-header.js":function(__unused_webpack_module,exports,__webpack_require__){var __assign=this&&this.__assign||function(){return __assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__assign.apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Wrapper=void 0;var jsx_runtime_1=__webpack_require__("../../node_modules/react/jsx-runtime.js"),react_1=__webpack_require__("../../node_modules/react/index.js"),react_table_1=__webpack_require__("../../node_modules/@tanstack/react-table/build/lib/index.js"),table_styled_components_1=__webpack_require__("../../components/styled/table/lib/molecules/table-styled-components.js");exports.Wrapper=function(_a,ref){var tableId=_a.tableId,header=_a.header,stickyWidth=_a.stickyWidth;return(0,jsx_runtime_1.jsx)(table_styled_components_1.StyledTableHeader,__assign({id:"".concat(tableId).concat(header.id),ref,stickyWidth,colSpan:header.colSpan,role:"columnheader"},"expander"!==header.column.id?{style:{cursor:header.column.getCanSort()?"pointer":""},onClick:header.column.getToggleSortingHandler()}:{},{children:header.isPlaceholder?null:(0,react_table_1.flexRender)(header.column.columnDef.header,header.getContext())}))};var TableHeader=(0,react_1.forwardRef)(exports.Wrapper);exports.default=TableHeader},"../../components/styled/table/lib/molecules/table-methods.js":function(__unused_webpack_module,exports,__webpack_require__){var __assign=this&&this.__assign||function(){return __assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__assign.apply(this,arguments)},__spreadArray=this&&this.__spreadArray||function(to,from,pack){if(pack||2===arguments.length)for(var ar,i=0,l=from.length;i<l;i++)!ar&&i in from||(ar||(ar=Array.prototype.slice.call(from,0,i)),ar[i]=from[i]);return to.concat(ar||Array.prototype.slice.call(from))},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.handleDataUpdateForManualPagination=exports.handleDataUpdate=exports.handleScrollEvent=exports.calculateStaticColumnOffset=exports.createColumns=void 0;var jsx_runtime_1=__webpack_require__("../../node_modules/react/jsx-runtime.js"),react_table_1=__webpack_require__("../../node_modules/@tanstack/react-table/build/lib/index.js"),table_cell_1=__importDefault(__webpack_require__("../../components/styled/table/lib/molecules/table-cell.js")),createColumns=function(tableData,headerAxis){var columnHelper=(0,react_table_1.createColumnHelper)(),columns=createColumnsRecursively(tableData.headers,columnHelper,headerAxis);return tableData.rows.some((function(row){return row.subRows}))&&(columns=prependColumnWithExpansionControls(columns,columnHelper,headerAxis)),columns};exports.createColumns=createColumns;var createColumnsRecursively=function(headers,columnHelper,headerAxis){return headers.map((function(header){var _a,_b;return"display"===header.type?columnHelper.display({id:header.id,header:function(){var headerCellProps=__assign(__assign({},header.cellProps),{headerAxis});return(0,jsx_runtime_1.jsx)(table_cell_1.default,__assign({},headerCellProps))},cell:function(props){var cellProps=__assign(__assign({},props.getValue()),{headerAxis});return(0,jsx_runtime_1.jsx)(table_cell_1.default,__assign({},cellProps))}}):"accessor"===header.type?columnHelper.accessor(header.id,{header:function(props){var cellProps=__assign(__assign({},header.cellProps),{iconProps:deriveHeaderIconProps(props),headerAxis});return(0,jsx_runtime_1.jsx)(table_cell_1.default,__assign({},cellProps))},cell:function(props){var cellProps=__assign(__assign({},props.getValue()),{headerAxis});return(0,jsx_runtime_1.jsx)(table_cell_1.default,__assign({},cellProps))}}):columnHelper.group({header:null!==(_a=header.cellProps.text)&&void 0!==_a?_a:"",columns:createColumnsRecursively(null!==(_b=header.subHeaders)&&void 0!==_b?_b:[],columnHelper,headerAxis)})}))},deriveHeaderIconProps=function(props){return"asc"===props.column.getIsSorted()?{type:"chevron",direction:"up",size:"medium"}:"desc"===props.column.getIsSorted()?{type:"chevron",direction:"down",size:"medium"}:void 0},prependColumnWithExpansionControls=function(columns,columnHelper,headerAxis){return[columnHelper.display({id:"expander",header:function(_a){var table=_a.table,headerCellProps={iconProps:{type:"chevron",direction:table.getIsAllRowsExpanded()?"down":"right",size:"medium"},headerAxis,clickHandler:table.getToggleAllRowsExpandedHandler()};return(0,jsx_runtime_1.jsx)(table_cell_1.default,__assign({},headerCellProps))},cell:function(props){var cellProps=props.row.getCanExpand()?{iconProps:{type:"chevron",direction:props.row.getIsExpanded()?"down":"right",size:"medium"},headerAxis,clickHandler:props.row.getToggleExpandedHandler()}:{headerAxis};return(0,jsx_runtime_1.jsx)(table_cell_1.default,__assign({},cellProps))}})].concat(columns)};exports.calculateStaticColumnOffset=function(cellIdx,staticColumns,firstColumnWidth,secondColumnWidth){if(0!==staticColumns)switch(cellIdx){case 0:return 0;case 1:return cellIdx<staticColumns?firstColumnWidth:void 0;case 2:return cellIdx<staticColumns?firstColumnWidth+secondColumnWidth:void 0;default:return}};exports.handleScrollEvent=function(pagination,headerAxis,scrollState){var scrollWidth=scrollState.scrollWidth,scrollHeight=scrollState.scrollHeight,currentXScroll=scrollState.currentXScroll,currentYScroll=scrollState.currentYScroll;"x"===headerAxis&&currentYScroll>=scrollHeight-getPercentageOfMax(5,scrollHeight)&&currentYScroll<=scrollHeight&&pagination.getCanNextPage()&&pagination.nextPage(),"y"===headerAxis&&currentXScroll>=scrollWidth-getPercentageOfMax(5,scrollWidth)&&currentXScroll<=scrollWidth&&pagination.getCanNextPage()&&pagination.nextPage()};var getPercentageOfMax=function(percentage,max){return max*(percentage/100)};exports.handleDataUpdate=function(tableData,pageIndex,pageSize,headerAxis,setColumns,setData,setPageCount){if(tableData&&tableData.headers.length>0)if("x"===headerAxis)setColumns(createColumns(tableData,headerAxis)),setData(tableData.rows.slice(0,(pageIndex+1)*pageSize)),setPageCount(Math.ceil(tableData.rows.length/pageSize));else{var head=tableData.headers[0],tail=tableData.headers.slice(1,tableData.headers.length);setColumns(createColumns({headers:__spreadArray([head],tail.slice(0,(pageIndex+1)*pageSize),!0),rows:tableData.rows},headerAxis)),setData(tableData.rows),setPageCount(Math.ceil(tail.length/pageSize))}};exports.handleDataUpdateForManualPagination=function(tableData,headerAxis,keepPreviousData,setColumns,setData){"x"===headerAxis?setData((function(old){var newData=keepPreviousData?__spreadArray(__spreadArray([],old,!0),tableData.rows,!0):tableData.rows;return setColumns(createColumns({headers:tableData.headers,rows:newData},headerAxis)),newData})):tableData.headers.length>0&&(setColumns((function(old){var oldLength,usingExpanderColumn,newColumns=createColumns(tableData,headerAxis),sliceStartPoint=(oldLength=old.length,usingExpanderColumn=tableData.rows.some((function(x){return x.subRows})),oldLength>0?usingExpanderColumn?2:1:0);return keepPreviousData?__spreadArray(__spreadArray([],old,!0),newColumns.slice(sliceStartPoint,newColumns.length),!0):newColumns})),setData(tableData.rows))}},"../../components/styled/table/lib/molecules/table-styled-components.js":function(__unused_webpack_module,exports,__webpack_require__){var __makeTemplateObject=this&&this.__makeTemplateObject||function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked},__createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);desc&&!("get"in desc?!m.__esModule:desc.writable||desc.configurable)||(desc={enumerable:!0,get:function(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.StyledSpinnerContainer=exports.StyledTHead=exports.StyledNextPageButtonContainer=exports.StyledSpinnerIcon=exports.StyledStandardButton=exports.StyledPageCountDiv=exports.StyledPaginationButtonDiv=exports.ScrollableContainer=exports.StyledPaginationButton=exports.StyledHideOnMobile=exports.StyledPaginationPageSelect=exports.StyledPaginationPageInput=exports.PaginationContainer=exports.StyledTableData=exports.StyledTableRow=exports.StyledTableHeader=exports.StyledTable=void 0;var styles_1=__webpack_require__("../styles/lib/index.js"),styled_1=__importDefault(__webpack_require__("../../node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js")),icon_1=__importStar(__webpack_require__("../../components/styled/icon/lib/index.js")),ScrollableContainer=styled_1.default.div(templateObject_1||(templateObject_1=__makeTemplateObject(["\n  ",";\n  background-color: white;\n  ","\n  border-radius: 6px;\n  overflow: auto;\n  &::-webkit-scrollbar {\n    width: 7px;\n    height: 7px;\n    border: 0;\n  }\n  &::-webkit-scrollbar-thumb {\n    background: ",";\n    border-radius: 10px;\n  }\n"],["\n  ",";\n  background-color: white;\n  ","\n  border-radius: 6px;\n  overflow: auto;\n  &::-webkit-scrollbar {\n    width: 7px;\n    height: 7px;\n    border: 0;\n  }\n  &::-webkit-scrollbar-thumb {\n    background: ",";\n    border-radius: 10px;\n  }\n"])),styles_1.CSS_RESET,(function(_a){var tableHeaderAxis=_a.tableHeaderAxis,maxWidth=_a.maxWidth,maxHeight=_a.maxHeight,isFlex=_a.isFlex;return"\n    display: ".concat(function(tableHeaderAxis,isFlex){return isFlex?"flex":"y"===tableHeaderAxis?"inline-flex":"inline-block"}(tableHeaderAxis,isFlex),";\n    ").concat(isFlex&&"flex-direction: column",";\n    max-width: ").concat(null!=maxWidth?maxWidth:"100%",";\n    max-height: ").concat(null!=maxHeight?maxHeight:"100%",";\n  ")}),styles_1.SCROLLBAR);exports.ScrollableContainer=ScrollableContainer;var StyledTable=styled_1.default.table(templateObject_2||(templateObject_2=__makeTemplateObject(["\n  border-spacing: 0;\n  border-radius: 6px;\n"],["\n  border-spacing: 0;\n  border-radius: 6px;\n"])));exports.StyledTable=StyledTable;var StyledTableHeader=styled_1.default.th(templateObject_3||(templateObject_3=__makeTemplateObject(["\n  background-color: ",";\n  border: thin solid ",";\n  font-weight: bold;\n  padding: 0.5rem;\n\n  ","\n"],["\n  background-color: ",";\n  border: thin solid ",";\n  font-weight: bold;\n  padding: 0.5rem;\n\n  ","\n"])),styles_1.TABLE_COLOURS.HEADER,styles_1.TABLE_COLOURS.BORDER,(function(_a){var stickyWidth=_a.stickyWidth;return void 0!==stickyWidth&&"\n    position: sticky !important;\n    left: ".concat(stickyWidth,"px;\n    top: 0;\n    z-index: ").concat((0,styles_1.getZIndex)(styles_1.StickyTableData),";")}));exports.StyledTableHeader=StyledTableHeader;var StyledTableData=styled_1.default.td(templateObject_4||(templateObject_4=__makeTemplateObject(["\n  border: thin solid ",";\n  white-space: normal;\n  text-align: center;\n  padding: 0.15rem;\n\n  &:first-of-type {\n    background-color: "," !important;\n    font-weight: bold;\n  }\n\n  ","\n\n  ","\n"],["\n  border: thin solid ",";\n  white-space: normal;\n  text-align: center;\n  padding: 0.15rem;\n\n  &:first-of-type {\n    background-color: "," !important;\n    font-weight: bold;\n  }\n\n  ","\n\n  ","\n"])),styles_1.TABLE_COLOURS.BORDER,styles_1.TABLE_COLOURS.HEADER,(function(_a){var stickyWidth=_a.stickyWidth;return void 0!==stickyWidth&&"\n    background-color: ".concat(styles_1.TABLE_COLOURS.STRIPE_LIGHT,";\n    position: sticky !important;\n    left: ").concat(stickyWidth,"px;\n    top: 0;\n    z-index: ").concat((0,styles_1.getZIndex)(styles_1.StickyTableData),";")}),(function(_a){return"y"===_a.tableHeaderAxis&&"\n    &:nth-of-type(even) {\n      background-color: ".concat(styles_1.TABLE_COLOURS.STRIPE_DARK,";\n    }")}));exports.StyledTableData=StyledTableData;var StyledTableRow=styled_1.default.tr(templateObject_5||(templateObject_5=__makeTemplateObject(["\n  ","\n"],["\n  ","\n"])),(function(_a){return"x"===_a.tableHeaderAxis&&"\n    &:nth-of-type(odd) {\n      background-color: ".concat(styles_1.TABLE_COLOURS.STRIPE_DARK,";\n    }")}));exports.StyledTableRow=StyledTableRow;var PaginationContainer=styled_1.default.div(templateObject_6||(templateObject_6=__makeTemplateObject(["\n  ",";\n  margin-top: 5px;\n  display: block;\n"],["\n  ",";\n  margin-top: 5px;\n  display: block;\n"])),styles_1.CSS_RESET);exports.PaginationContainer=PaginationContainer;var StyledPaginationPageInput=styled_1.default.input(templateObject_7||(templateObject_7=__makeTemplateObject(["\n  ",";\n  width: 50px;\n  border: 1px solid gray;\n"],["\n  ",";\n  width: 50px;\n  border: 1px solid gray;\n"])),styles_1.CSS_RESET);exports.StyledPaginationPageInput=StyledPaginationPageInput;var StyledPaginationPageSelect=styled_1.default.select(templateObject_8||(templateObject_8=__makeTemplateObject(["\n  ",";\n  width: 45px;\n  display: inline-block;\n  font-size: 0.9rem;\n  border: 1px solid gray;\n"],["\n  ",";\n  width: 45px;\n  display: inline-block;\n  font-size: 0.9rem;\n  border: 1px solid gray;\n"])),styles_1.CSS_RESET);exports.StyledPaginationPageSelect=StyledPaginationPageSelect;var StyledHideOnMobile=styled_1.default.span(templateObject_9||(templateObject_9=__makeTemplateObject(["\n  font-size: 1.1em;\n  padding: 2px;\n  @media (max-width: 320px) {\n    display: none;\n  }\n"],["\n  font-size: 1.1em;\n  padding: 2px;\n  @media (max-width: 320px) {\n    display: none;\n  }\n"])));exports.StyledHideOnMobile=StyledHideOnMobile;var StyledPaginationButtonDiv=styled_1.default.div(templateObject_10||(templateObject_10=__makeTemplateObject(["\n  float: right;\n  display: flex;\n  justify-content: space-between;\n  align-items: stretch;\n"],["\n  float: right;\n  display: flex;\n  justify-content: space-between;\n  align-items: stretch;\n"])));exports.StyledPaginationButtonDiv=StyledPaginationButtonDiv;var StyledPageCountDiv=styled_1.default.div(templateObject_11||(templateObject_11=__makeTemplateObject(["\n  margin-right: 5px;\n  margin-left: 5px;\n  display: flex;\n  font-size: 1.1em;\n  padding: 1px;\n"],["\n  margin-right: 5px;\n  margin-left: 5px;\n  display: flex;\n  font-size: 1.1em;\n  padding: 1px;\n"])));exports.StyledPageCountDiv=StyledPageCountDiv;var StyledStandardButton=(0,styled_1.default)(icon_1.IconButton)(templateObject_12||(templateObject_12=__makeTemplateObject(["\n  color: ",";\n  background-color: ",";\n  padding: 2px 5px;\n  border-radius: 5px;\n  &:hover {\n    background-color: ",";\n  }\n\n  &:disabled {\n    background-color: ",";\n  }\n"],["\n  color: ",";\n  background-color: ",";\n  padding: 2px 5px;\n  border-radius: 5px;\n  &:hover {\n    background-color: ",";\n  }\n\n  &:disabled {\n    background-color: ",";\n  }\n"])),styles_1.BTN_COLOURS.STANDARD.TEXT,styles_1.BTN_COLOURS.STANDARD.VALUE,styles_1.BTN_COLOURS.STANDARD.HOVER,styles_1.BTN_COLOURS.STANDARD.DISABLED);exports.StyledStandardButton=StyledStandardButton;var StyledPaginationButton=(0,styled_1.default)(icon_1.IconButton)(templateObject_13||(templateObject_13=__makeTemplateObject(["\n  padding: 2px 5px;\n  background-color: ",";\n  color: black;\n  border: 1px solid ",";\n  margin: 0 2.5px;\n  border-radius: 3px;\n\n  &:disabled {\n    background-color: inherit;\n    color: gray;\n    border-color: ",";\n    pointer-events: none;\n  }\n"],["\n  padding: 2px 5px;\n  background-color: ",";\n  color: black;\n  border: 1px solid ",";\n  margin: 0 2.5px;\n  border-radius: 3px;\n\n  &:disabled {\n    background-color: inherit;\n    color: gray;\n    border-color: ",";\n    pointer-events: none;\n  }\n"])),styles_1.TRANSLUCENT_BRIGHT_BLUE,styles_1.TRANSLUCENT_MID_GREY,styles_1.TRANSLUCENT_MID_GREY);exports.StyledPaginationButton=StyledPaginationButton;var StyledSpinnerIcon=(0,styled_1.default)(icon_1.default)(templateObject_14||(templateObject_14=__makeTemplateObject(["\n  margin: 3px 0;\n  font-size: 1.1em;\n  padding: 1.5px;\n"],["\n  margin: 3px 0;\n  font-size: 1.1em;\n  padding: 1.5px;\n"])));exports.StyledSpinnerIcon=StyledSpinnerIcon;var StyledNextPageButtonContainer=styled_1.default.div(templateObject_15||(templateObject_15=__makeTemplateObject(["\n  display: ",";\n  justify-content: center;\n  cursor: pointer;\n  align-items: center;\n  padding: 10px;\n  font-size: 1.3em;\n  border: solid 2px #eeeeee;\n  border-left: solid 1px #eeeeee;\n\n  :hover {\n    background-color: #f3f6f6;\n  }\n"],["\n  display: ",";\n  justify-content: center;\n  cursor: pointer;\n  align-items: center;\n  padding: 10px;\n  font-size: 1.3em;\n  border: solid 2px #eeeeee;\n  border-left: solid 1px #eeeeee;\n\n  :hover {\n    background-color: #f3f6f6;\n  }\n"])),(function(_a){var hidden=_a.hidden,elementPosition=_a.elementPosition;return hidden?"none":"bottom"===elementPosition?"flex":"inline-flex"}));exports.StyledNextPageButtonContainer=StyledNextPageButtonContainer;var StyledSpinnerContainer=styled_1.default.div(templateObject_16||(templateObject_16=__makeTemplateObject(["\n  display: ",";\n  justify-content: center;\n  cursor: pointer;\n  align-items: center;\n  padding: 5px;\n"],["\n  display: ",";\n  justify-content: center;\n  cursor: pointer;\n  align-items: center;\n  padding: 5px;\n"])),(function(_a){var hidden=_a.hidden,elementPosition=_a.elementPosition;return hidden?"none":"bottom"===elementPosition?"flex":"inline-flex"}));exports.StyledSpinnerContainer=StyledSpinnerContainer;var templateObject_1,templateObject_2,templateObject_3,templateObject_4,templateObject_5,templateObject_6,templateObject_7,templateObject_8,templateObject_9,templateObject_10,templateObject_11,templateObject_12,templateObject_13,templateObject_14,templateObject_15,templateObject_16,templateObject_17,StyledTHead=styled_1.default.thead(templateObject_17||(templateObject_17=__makeTemplateObject(["\n  position: sticky;\n  left: 0;\n  top: 0;\n  z-index: ",";\n"],["\n  position: sticky;\n  left: 0;\n  top: 0;\n  z-index: ",";\n"])),(0,styles_1.getZIndex)(styles_1.StickyTableHead));exports.StyledTHead=StyledTHead},"../../components/styled/table/lib/molecules/table.js":function(__unused_webpack_module,exports,__webpack_require__){var __assign=this&&this.__assign||function(){return __assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__assign.apply(this,arguments)},__createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);desc&&!("get"in desc?!m.__esModule:desc.writable||desc.configurable)||(desc={enumerable:!0,get:function(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result},__rest=this&&this.__rest||function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var jsx_runtime_1=__webpack_require__("../../node_modules/react/jsx-runtime.js"),react_1=__webpack_require__("../../node_modules/react/index.js"),react_table_1=__webpack_require__("../../node_modules/@tanstack/react-table/build/lib/index.js"),table_styled_components_1=__webpack_require__("../../components/styled/table/lib/molecules/table-styled-components.js"),useScrollRef_1=__importDefault(__webpack_require__("../../components/styled/table/lib/molecules/useScrollRef.js")),table_methods_1=__webpack_require__("../../components/styled/table/lib/molecules/table-methods.js"),table_component_1=__importStar(__webpack_require__("../../components/styled/table/lib/molecules/table-component.js"));exports.default=function(_a){var tableData=_a.tableData,_b=_a.staticColumns,staticColumns=void 0===_b?0:_b,_c=_a.currentPage,currentPage=void 0===_c?1:_c,_d=_a.pageSize,pageSizeParam=void 0===_d?10:_d,_e=_a.headerAxis,headerAxis=void 0===_e?"x":_e,_f=_a.manualPagination,manualPagination=void 0!==_f&&_f,_g=_a.infiniteScrollEnabled,infiniteScrollEnabled=void 0!==_g&&_g,_h=_a.getCanNextPage,getCanNextPage=void 0===_h?function(){return!1}:_h,_j=_a.nextPage,nextPage=void 0===_j?function(){return null}:_j,_k=_a.isFetching,isFetching=void 0!==_k&&_k,_l=_a.keepPreviousData,keepPreviousData=void 0!==_l&&_l,maxHeight=_a.maxHeight,maxWidth=_a.maxWidth,_m=_a.isFlex,isFlex=void 0!==_m&&_m,_o=_a.enableSorting,enableSorting=void 0===_o||_o,_p=_a.sortingFunctions,sortingFunctions=void 0===_p?void 0:_p,rest=__rest(_a,["tableData","staticColumns","currentPage","pageSize","headerAxis","manualPagination","infiniteScrollEnabled","getCanNextPage","nextPage","isFetching","keepPreviousData","maxHeight","maxWidth","isFlex","enableSorting","sortingFunctions"]),scrollableDivElement=(0,react_1.useRef)(null),scrollState=(0,useScrollRef_1.default)(scrollableDivElement),_q=(0,react_1.useState)({}),expanded=_q[0],setExpanded=_q[1],_r=(0,react_1.useState)([]),sorting=_r[0],setSorting=_r[1],_s=(0,react_1.useState)({pageIndex:currentPage-1,pageSize:pageSizeParam}),_t=_s[0],pageIndex=_t.pageIndex,pageSize=_t.pageSize,setPagination=_s[1],pagination=(0,react_1.useMemo)((function(){return{pageIndex,pageSize}}),[pageIndex,pageSize]),_u=(0,react_1.useState)([]),data=_u[0],setData=_u[1],_v=(0,react_1.useState)([]),columns=_v[0],setColumns=_v[1],_w=(0,react_1.useState)(-1),pageCount=_w[0],setPageCount=_w[1];(0,react_1.useEffect)((function(){manualPagination||(0,table_methods_1.handleDataUpdate)(tableData,pageIndex,pageSize,headerAxis,setColumns,setData,setPageCount)}),[pageIndex,pageSize,headerAxis,tableData,manualPagination]),(0,react_1.useEffect)((function(){manualPagination&&(0,table_methods_1.handleDataUpdateForManualPagination)(tableData,headerAxis,keepPreviousData,setColumns,setData)}),[headerAxis,tableData,manualPagination,keepPreviousData]);var table=(0,react_table_1.useReactTable)(__assign(__assign(__assign({data,columns},manualPagination?{}:{pageCount}),{state:__assign({expanded,sorting},manualPagination?{}:{pagination}),manualPagination:!0,onExpandedChange:setExpanded,onSortingChange:setSorting,enableSorting,sortingFns:sortingFunctions,getSubRows:function(row){return row.subRows},getCoreRowModel:(0,react_table_1.getCoreRowModel)(),getExpandedRowModel:(0,react_table_1.getExpandedRowModel)(),getSortedRowModel:(0,react_table_1.getSortedRowModel)()}),manualPagination?{}:{onPaginationChange:setPagination})),getNextPage=function(){return manualPagination?nextPage():table.nextPage()},hasNextPage=function(){return manualPagination?getCanNextPage():table.getCanNextPage()};return(0,react_1.useEffect)((function(){scrollState&&infiniteScrollEnabled&&!isFetching&&(0,table_methods_1.handleScrollEvent)({getCanNextPage:hasNextPage,nextPage:getNextPage},headerAxis,scrollState)}),[scrollState]),(0,jsx_runtime_1.jsxs)(table_styled_components_1.ScrollableContainer,{ref:scrollableDivElement,tableHeaderAxis:headerAxis,maxHeight,maxWidth,isFlex,children:[(0,jsx_runtime_1.jsx)(table_component_1.default,__assign({table,staticColumns,headerAxis},rest)),manualPagination?(0,jsx_runtime_1.jsx)(table_component_1.TableSpinner,{position:"x"===headerAxis?"bottom":"right",hidden:!isFetching}):null,(0,jsx_runtime_1.jsx)(table_component_1.TableNavigationButton,{position:"x"===headerAxis?"bottom":"right",hidden:isFetching||(manualPagination?!getCanNextPage():!table.getCanNextPage()),clickHandler:getNextPage})]})}},"../../components/styled/table/lib/molecules/useDimensionRef.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__("../../node_modules/react/index.js");exports.default=function(elementRef,parentElementRef){var _a=(0,react_1.useState)({width:0,height:0}),dimensions=_a[0],setDimensions=_a[1];return(0,react_1.useEffect)((function(){var getDimensions=function(){return{width:elementRef&&elementRef.current&&elementRef.current.offsetWidth||0,height:elementRef&&elementRef.current&&elementRef.current.offsetHeight||0}};elementRef.current&&setDimensions(getDimensions());var parentElementResizeObserver=new ResizeObserver((function(_e){setDimensions(getDimensions())}));return(null==parentElementRef?void 0:parentElementRef.current)&&parentElementResizeObserver.observe(parentElementRef.current),function(){null==parentElementResizeObserver||parentElementResizeObserver.disconnect()}}),[elementRef,parentElementRef]),dimensions}},"../../components/styled/table/lib/molecules/useScrollRef.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__("../../node_modules/react/index.js");exports.default=function(elementRef){var _a=(0,react_1.useState)(),scrollState=_a[0],setScrollState=_a[1],handleScroll=function(e){var _a,_b,_c,_d,_e,_f;e&&setScrollState({scrollWidth:null!==(_a=e.scrollWidth)&&void 0!==_a?_a:0,scrollHeight:null!==(_b=e.scrollHeight)&&void 0!==_b?_b:0,currentXScroll:(null!==(_c=e.scrollLeft)&&void 0!==_c?_c:0)+(null!==(_d=e.clientWidth)&&void 0!==_d?_d:0),currentYScroll:(null!==(_e=e.scrollTop)&&void 0!==_e?_e:0)+(null!==(_f=e.clientHeight)&&void 0!==_f?_f:0)})};return(0,react_1.useEffect)((function(){var element=null==elementRef?void 0:elementRef.current;return element&&(handleScroll(element),element.addEventListener("scroll",(function(){return handleScroll(element)}))),function(){null==element||element.removeEventListener("scroll",(function(){return handleScroll(element)}))}}),[elementRef]),scrollState}},"../../components/styled/table/lib/organisms/generic-table.js":function(__unused_webpack_module,exports,__webpack_require__){var __assign=this&&this.__assign||function(){return __assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__assign.apply(this,arguments)},__rest=this&&this.__rest||function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var jsx_runtime_1=__webpack_require__("../../node_modules/react/jsx-runtime.js"),table_1=__importDefault(__webpack_require__("../../components/styled/table/lib/molecules/table.js"));exports.default=function(_a){var columnData=_a.columnData,rowData=_a.rowData,mapToTableData=_a.mapToTableData,_b=_a.headerAxis,headerAxis=void 0===_b?"x":_b,_c=_a.pageSize,pageSize=void 0===_c?10:_c,_d=_a.currentPage,currentPage=void 0===_d?1:_d,_e=_a.keepPreviousData,keepPreviousData=void 0===_e||_e,props=__rest(_a,["columnData","rowData","mapToTableData","headerAxis","pageSize","currentPage","keepPreviousData"]),tableData=mapToTableData(columnData,rowData);return(0,jsx_runtime_1.jsx)(table_1.default,__assign({tableData,headerAxis,pageSize,currentPage,keepPreviousData},props))}},"../../components/styled/table/lib/organisms/questionnaire-table-methods.js":function(__unused_webpack_module,exports,__webpack_require__){var __assign=this&&this.__assign||function(){return __assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__assign.apply(this,arguments)},__spreadArray=this&&this.__spreadArray||function(to,from,pack){if(pack||2===arguments.length)for(var ar,i=0,l=from.length;i<l;i++)!ar&&i in from||(ar||(ar=Array.prototype.slice.call(from,0,i)),ar[i]=from[i]);return to.concat(ar||Array.prototype.slice.call(from))},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var jsx_runtime_1=__webpack_require__("../../node_modules/react/jsx-runtime.js"),types_1=__webpack_require__("../types/lib/index.js"),utils_1=__webpack_require__("../utils/lib/index.js"),styles_1=__webpack_require__("../styles/lib/index.js"),questionnaire_withdrawn_table_cell_1=__importDefault(__webpack_require__("../../components/styled/table/lib/atoms/questionnaire-withdrawn-table-cell.js")),DEFAULT_VERTICAL_HEADER_CELL_STYLE={maxWidth:"15rem",textWrap:"wrap",textAlign:"left"},withdrawnWrapper=function(text){return(0,jsx_runtime_1.jsx)(questionnaire_withdrawn_table_cell_1.default,{text})},mapQuestionnaireObjectsToHorizontalTableData=function(definitionItems,records,adminActions){var tableData={headers:__spreadArray([{id:"date",type:"accessor",cellProps:{text:"Record Date"}}],recursivelyMapQuestionnaireItemsIntoHeaders(definitionItems),!0),rows:mapQuestionnaireResponsesIntoDataEntities(records,adminActions)};return adminActions&&tableData.headers.splice(1,0,{id:"adminactions",type:"accessor",cellProps:{text:"Actions"}}),tableData},recursivelyMapQuestionnaireItemsIntoHeaders=function(questionnaireItems){return questionnaireItems.map((function(questionnaireItem){var _a,_b,_c,subItems=(0,utils_1.EnsureMaybeArray)(null!==(_a=questionnaireItem.item)&&void 0!==_a?_a:[]);return{id:null!==(_b=null==questionnaireItem?void 0:questionnaireItem.linkId)&&void 0!==_b?_b:"",type:subItems.length>0?"group":"accessor",cellProps:{text:null!==(_c=null==questionnaireItem?void 0:questionnaireItem.text)&&void 0!==_c?_c:""},subHeaders:recursivelyMapQuestionnaireItemsIntoHeaders(subItems)}}))},mapQuestionnaireResponsesIntoDataEntities=function(records,adminActions){return records.filter((function(record){return!!record.item})).map((function(record){var _a,dataEntity={};if(dataEntity.date={customComponentOverride:record.status===types_1.QuestionnaireResponseStatus.EnteredInError?withdrawnWrapper((0,utils_1.partialDateTimeText)(record.authored)):void 0,text:(0,utils_1.partialDateTimeText)(record.authored)},adminActions){var adminActionsForThisDataEntity=adminActions.find((function(actionForForm){return actionForForm.questionnaire===record.id}));adminActionsForThisDataEntity&&(dataEntity.adminactions={id:record.id,adminActions:adminActionsForThisDataEntity.adminActions,parentStyle:{zIndex:(0,styles_1.getZIndex)(styles_1.TableDataWithPopUp)}})}return null===(_a=record.item)||void 0===_a||_a.filter((function(item){return(null==item?void 0:item.linkId)&&(null==item?void 0:item.answer)})).forEach((function(item){var _a,linkId=(0,utils_1.EnsureMaybe)(null==item?void 0:item.linkId),answer=(0,utils_1.EnsureMaybe)(null===(_a=null==item?void 0:item.answer)||void 0===_a?void 0:_a.find((function(answer){return!!answer})));dataEntity[linkId]=createCellPropsForAnswer(answer,!1,record.status===types_1.QuestionnaireResponseStatus.EnteredInError),answer.item&&(dataEntity=recursivelyMapResponseItemsOntoData((0,utils_1.EnsureMaybeArray)(answer.item),dataEntity,record.status))})),dataEntity}))},recursivelyMapResponseItemsOntoData=function(items,dataEntity,status){var updatedDataEntity=__assign({},dataEntity);return items.forEach((function(item){var firstAnswer=item.answer?item.answer[0]:void 0;if(item.linkId&&firstAnswer){var props=createCellPropsForAnswer(firstAnswer,!1,status===types_1.QuestionnaireResponseStatus.EnteredInError);updatedDataEntity[item.linkId]={customComponentOverride:props.customComponentOverride,text:props.text},firstAnswer.item&&(updatedDataEntity=recursivelyMapResponseItemsOntoData((0,utils_1.EnsureMaybeArray)(firstAnswer.item),updatedDataEntity,status))}})),updatedDataEntity},mapQuestionnaireObjectsToVerticalTableData=function(definitionItems,records,adminActions){return{headers:__spreadArray([{id:"property",type:"accessor",cellProps:{text:""}}],records.map((function(record){var _a,_b,_c;return{id:null!==(_a=null==record?void 0:record.id)&&void 0!==_a?_a:"",type:"accessor",cellProps:{customComponentOverride:record.status===types_1.QuestionnaireResponseStatus.EnteredInError?withdrawnWrapper(null!==(_b=(0,utils_1.partialDateTimeText)(record.authored))&&void 0!==_b?_b:""):void 0,text:null!==(_c=(0,utils_1.partialDateTimeText)(record.authored))&&void 0!==_c?_c:""}}})),!0),rows:buildVerticalCellRows(definitionItems,records,adminActions)}},buildVerticalCellRows=function(definitionItems,records,adminActions){var dataEntities=definitionItems.map((function(item){var dataEntity={};return dataEntity=buildVerticalCellRowsRecursive((0,utils_1.EnsureMaybeArray)([item]),records,dataEntity)}));if(adminActions){var actionsDataEntity_1={};return actionsDataEntity_1.property={text:"Actions",parentStyle:DEFAULT_VERTICAL_HEADER_CELL_STYLE},records.forEach((function(record){var adminActionsForThisDataEntity=adminActions.find((function(actionForForm){return actionForForm.questionnaire===record.id}));adminActionsForThisDataEntity&&(actionsDataEntity_1[record.id]={id:record.id,adminActions:adminActionsForThisDataEntity.adminActions,parentStyle:{zIndex:(0,styles_1.getZIndex)(styles_1.TableDataWithPopUp)}})})),[actionsDataEntity_1].concat(dataEntities)}return dataEntities},buildVerticalCellRowsRecursive=function(definitionItems,records,dataEntity){var updatedDataEntity=__assign({},dataEntity);return definitionItems.forEach((function(definitionItem){var _a,containsChildItems=!!definitionItem.item&&definitionItem.item.length>0;updatedDataEntity.property={text:null!==(_a=definitionItem.text)&&void 0!==_a?_a:"",parentStyle:__assign(__assign({},DEFAULT_VERTICAL_HEADER_CELL_STYLE),{fontWeight:containsChildItems?"bold":"normal"})},definitionItem.linkId&&records.forEach((function(record){var _a;updatedDataEntity=getRecordItemByLinkId((0,utils_1.EnsureMaybeArray)(null!==(_a=record.item)&&void 0!==_a?_a:[]),(0,utils_1.EnsureMaybe)(definitionItem.linkId),updatedDataEntity,record.id,record.status)})),definitionItem.item&&definitionItem.item.length>0&&(updatedDataEntity.subRows=buildVerticalCellRows((0,utils_1.EnsureMaybeArray)(definitionItem.item),records))})),updatedDataEntity},getRecordItemByLinkId=function(recordItems,linkId,dataEntity,recordId,status){var updatedDataEntity=__assign({},dataEntity);return recordItems.forEach((function(recordItem){var recordItemAnswer=recordItem.answer&&recordItem.answer.length>0?(0,utils_1.EnsureMaybe)(recordItem.answer[0]):void 0;recordItemAnswer&&((null==recordItem?void 0:recordItem.linkId)&&(null==recordItem?void 0:recordItem.linkId)===linkId&&(updatedDataEntity[recordId]=createCellPropsForAnswer(recordItemAnswer,!0,status===types_1.QuestionnaireResponseStatus.EnteredInError)),recordItemAnswer.item&&recordItemAnswer.item.length>0&&(updatedDataEntity=getRecordItemByLinkId((0,utils_1.EnsureMaybeArray)(recordItemAnswer.item),linkId,updatedDataEntity,recordId,status)))})),updatedDataEntity},createCellPropsForAnswer=function(answer,shouldRenderCheckbox,isEnteredInError){if(answer.valueString)return shouldRenderCheckbox&&"CHECKBOX"===answer.valueString?{iconProps:{type:"checkbox",size:"medium"}}:{customComponentOverride:isEnteredInError?withdrawnWrapper(answer.valueString):void 0,text:answer.valueString};if(null!=answer.valueBoolean){var parsedBoolean=answer.valueBoolean?"Yes":"No";return{customComponentOverride:isEnteredInError?withdrawnWrapper(parsedBoolean):void 0,text:parsedBoolean}}return null!=answer.valueInteger?{customComponentOverride:isEnteredInError?withdrawnWrapper(answer.valueInteger.toString()):void 0,text:answer.valueInteger.toString()}:null!=answer.valueDecimal?{customComponentOverride:isEnteredInError?withdrawnWrapper(answer.valueDecimal.toString()):void 0,text:answer.valueDecimal.toString()}:{text:""}};exports.default=function(definition,questionnaireResponses,axis,adminActions){var definitionItems=(0,utils_1.EnsureMaybeArray)((0,utils_1.EnsureMaybe)(definition.item,[]));if(0!==definitionItems.length)return"y"===axis?mapQuestionnaireObjectsToVerticalTableData(definitionItems,questionnaireResponses,adminActions):mapQuestionnaireObjectsToHorizontalTableData(definitionItems,questionnaireResponses,adminActions)}},"../../components/styled/table/lib/organisms/questionnaire-table.js":function(__unused_webpack_module,exports,__webpack_require__){var __assign=this&&this.__assign||function(){return __assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__assign.apply(this,arguments)},__rest=this&&this.__rest||function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var jsx_runtime_1=__webpack_require__("../../node_modules/react/jsx-runtime.js"),react_1=__webpack_require__("../../node_modules/react/index.js"),icon_1=__importDefault(__webpack_require__("../../components/styled/icon/lib/index.js")),table_1=__importDefault(__webpack_require__("../../components/styled/table/lib/molecules/table.js")),questionnaire_table_methods_1=__importDefault(__webpack_require__("../../components/styled/table/lib/organisms/questionnaire-table-methods.js"));exports.default=function(_a){var definition=_a.definition,records=_a.records,_b=_a.headerAxis,headerAxis=void 0===_b?"y":_b,_c=_a.staticColumns,staticColumns=void 0===_c?0:_c,adminActions=_a.adminActions,_d=_a.pageSize,pageSize=void 0===_d?10:_d,_e=_a.currentPage,currentPage=void 0===_e?1:_e,_f=_a.keepPreviousData,keepPreviousData=void 0===_f||_f,props=__rest(_a,["definition","records","headerAxis","staticColumns","adminActions","pageSize","currentPage","keepPreviousData"]),tableData=(0,react_1.useMemo)((function(){return(0,questionnaire_table_methods_1.default)(definition,records,headerAxis,adminActions)}),[headerAxis,definition,records,adminActions]);return tableData?(0,jsx_runtime_1.jsx)(table_1.default,__assign({tableData,staticColumns,headerAxis,pageSize,currentPage,keepPreviousData},props)):(0,jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment,{children:[(0,jsx_runtime_1.jsx)(icon_1.default,{type:"exclamation",size:"large",color:"red"}),(0,jsx_runtime_1.jsx)("div",{children:"An error occurred whilst loading this table."})]})}}}]);