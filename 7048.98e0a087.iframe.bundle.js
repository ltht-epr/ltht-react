"use strict";(self.webpackChunk_ltht_react_storybook=self.webpackChunk_ltht_react_storybook||[]).push([[7048],{"../utils/lib/atoms/allergy-intolerance-category-code.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0});var title_case_1=__webpack_require__("../utils/lib/atoms/title-case.js");exports.default=function(categories){return void 0===categories&&(categories=[]),categories.map((function(category){return category&&(0,title_case_1.titleCase)(category)})).join(", ")}},"../utils/lib/atoms/codeable-concept.js":(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.codeableConceptTextSummary=exports.codeableConceptCodeSummary=exports.codeableConceptDisplaySummary=void 0;var codeableConceptDisplaySummary=function(codeableConcept,systemExclusionsFilter){var _a;void 0===codeableConcept&&(codeableConcept={});var codings=(null==codeableConcept?void 0:codeableConcept.coding)||[],display=codings.map((function(coding){return null==coding?void 0:coding.display})).join(", ");systemExclusionsFilter&&systemExclusionsFilter.length>0&&(display=codings.filter((function(coding){return!(null==coding?void 0:coding.system)||!systemExclusionsFilter.includes(coding.system)})).map((function(coding){var _a;return null!==(_a=null==coding?void 0:coding.display)&&void 0!==_a?_a:""})).join(", "));return 0===(null==display?void 0:display.length)&&(display=null!==(_a=null==codeableConcept?void 0:codeableConcept.text)&&void 0!==_a?_a:""),display};exports.codeableConceptDisplaySummary=codeableConceptDisplaySummary;exports.codeableConceptCodeSummary=function(codeableConcept){return void 0===codeableConcept&&(codeableConcept={}),((null==codeableConcept?void 0:codeableConcept.coding)||[]).map((function(coding){return null==coding?void 0:coding.code})).join(", ")};exports.codeableConceptTextSummary=function(codeableConcept){return void 0===codeableConcept&&(codeableConcept=[]),codeableConcept.map((function(item){var _a;return null!==(_a=null==item?void 0:item.text)&&void 0!==_a?_a:codeableConceptDisplaySummary(item)})).join(", ")}},"../utils/lib/atoms/ensure-maybe.js":(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.EnsureMaybe=exports.EnsureMaybeArray=void 0;exports.EnsureMaybeArray=function(maybeArray){if(!maybeArray)return[];var definitelyArray=[];return maybeArray.forEach((function(item){null!==item&&definitelyArray.push(item)})),definitelyArray};exports.EnsureMaybe=function(maybe,defaultValue){if(null!=maybe)return maybe;if(void 0!==defaultValue)return defaultValue;throw new Error("Cannot ensure a Maybe without a default value to fall back to.")}},"../utils/lib/atoms/extensions.js":(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.getStringExtension=exports.getBooleanExtension=void 0;exports.getBooleanExtension=function(extensions,uri){var _a;if(void 0===extensions)return null;var booleanExtensionValue=null===(_a=null==extensions?void 0:extensions.find((function(extension){return(null==extension?void 0:extension.url)===uri})))||void 0===_a?void 0:_a.valueBoolean;return void 0===booleanExtensionValue?null:booleanExtensionValue};exports.getStringExtension=function(extensions,uri){var _a;if(void 0===extensions)return null;var stringExtensionValue=null===(_a=null==extensions?void 0:extensions.find((function(extension){return(null==extension?void 0:extension.url)===uri})))||void 0===_a?void 0:_a.valueString;return void 0===stringExtensionValue?null:stringExtensionValue}},"../utils/lib/atoms/index.js":function(__unused_webpack_module,exports,__webpack_require__){var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);desc&&!("get"in desc?!m.__esModule:desc.writable||desc.configurable)||(desc={enumerable:!0,get:function(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__exportStar=this&&this.__exportStar||function(m,exports){for(var p in m)"default"===p||Object.prototype.hasOwnProperty.call(exports,p)||__createBinding(exports,m,p)},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.parseHTML=exports.stripBBTags=exports.stripHtmlTags=exports.isWidescreenView=exports.isDesktopView=exports.isTabletView=exports.isMobileView=exports.titleCase=exports.resourceReferenceDisplaySummary=exports.rangeText=exports.quantityText=exports.periodSummaryText=exports.metadataSourceSummaryText=exports.medicationTitleSeparator=exports.allergyIntoleranceCategoryCodeDisplaySummary=void 0;var allergy_intolerance_category_code_1=__webpack_require__("../utils/lib/atoms/allergy-intolerance-category-code.js");Object.defineProperty(exports,"allergyIntoleranceCategoryCodeDisplaySummary",{enumerable:!0,get:function(){return __importDefault(allergy_intolerance_category_code_1).default}});var medication_title_separator_1=__webpack_require__("../utils/lib/atoms/medication-title-separator.js");Object.defineProperty(exports,"medicationTitleSeparator",{enumerable:!0,get:function(){return __importDefault(medication_title_separator_1).default}}),__exportStar(__webpack_require__("../utils/lib/atoms/codeable-concept.js"),exports);var metadata_1=__webpack_require__("../utils/lib/atoms/metadata.js");Object.defineProperty(exports,"metadataSourceSummaryText",{enumerable:!0,get:function(){return __importDefault(metadata_1).default}}),__exportStar(__webpack_require__("../utils/lib/atoms/partial-date-time.js"),exports),__exportStar(__webpack_require__("../utils/lib/atoms/extensions.js"),exports);var period_1=__webpack_require__("../utils/lib/atoms/period.js");Object.defineProperty(exports,"periodSummaryText",{enumerable:!0,get:function(){return __importDefault(period_1).default}});var quantity_1=__webpack_require__("../utils/lib/atoms/quantity.js");Object.defineProperty(exports,"quantityText",{enumerable:!0,get:function(){return __importDefault(quantity_1).default}});var range_1=__webpack_require__("../utils/lib/atoms/range.js");Object.defineProperty(exports,"rangeText",{enumerable:!0,get:function(){return __importDefault(range_1).default}});var resource_reference_1=__webpack_require__("../utils/lib/atoms/resource-reference.js");Object.defineProperty(exports,"resourceReferenceDisplaySummary",{enumerable:!0,get:function(){return __importDefault(resource_reference_1).default}});var title_case_1=__webpack_require__("../utils/lib/atoms/title-case.js");Object.defineProperty(exports,"titleCase",{enumerable:!0,get:function(){return __importDefault(title_case_1).default}});var isMobileView_1=__webpack_require__("../utils/lib/atoms/isMobileView.js");Object.defineProperty(exports,"isMobileView",{enumerable:!0,get:function(){return __importDefault(isMobileView_1).default}});var isTabletView_1=__webpack_require__("../utils/lib/atoms/isTabletView.js");Object.defineProperty(exports,"isTabletView",{enumerable:!0,get:function(){return __importDefault(isTabletView_1).default}});var isDesktopView_1=__webpack_require__("../utils/lib/atoms/isDesktopView.js");Object.defineProperty(exports,"isDesktopView",{enumerable:!0,get:function(){return __importDefault(isDesktopView_1).default}});var isWidescreenView_1=__webpack_require__("../utils/lib/atoms/isWidescreenView.js");Object.defineProperty(exports,"isWidescreenView",{enumerable:!0,get:function(){return __importDefault(isWidescreenView_1).default}});var strip_html_tags_1=__webpack_require__("../utils/lib/atoms/strip-html-tags.js");Object.defineProperty(exports,"stripHtmlTags",{enumerable:!0,get:function(){return __importDefault(strip_html_tags_1).default}});var strip_bb_tags_1=__webpack_require__("../utils/lib/atoms/strip-bb-tags.js");Object.defineProperty(exports,"stripBBTags",{enumerable:!0,get:function(){return __importDefault(strip_bb_tags_1).default}});var parse_html_1=__webpack_require__("../utils/lib/atoms/parse-html.js");Object.defineProperty(exports,"parseHTML",{enumerable:!0,get:function(){return __importDefault(parse_html_1).default}}),__exportStar(__webpack_require__("../utils/lib/atoms/ensure-maybe.js"),exports),__exportStar(__webpack_require__("../utils/lib/atoms/patient.js"),exports),__exportStar(__webpack_require__("../utils/lib/atoms/strings.js"),exports)},"../utils/lib/atoms/isDesktopView.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0});var styles_1=__webpack_require__("../styles/lib/index.js");exports.default=function(width){return width>=styles_1.DESKTOP_BREAKPOINT.min&&width<=styles_1.DESKTOP_BREAKPOINT.max}},"../utils/lib/atoms/isMobileView.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0});var styles_1=__webpack_require__("../styles/lib/index.js");exports.default=function(width){return width<=styles_1.MOBILE_BREAKPOINT.max}},"../utils/lib/atoms/isTabletView.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0});var styles_1=__webpack_require__("../styles/lib/index.js");exports.default=function(width){return width>=styles_1.TABLET_BREAKPOINT.min&&width<=styles_1.TABLET_BREAKPOINT.max}},"../utils/lib/atoms/isWidescreenView.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0});var styles_1=__webpack_require__("../styles/lib/index.js");exports.default=function(width){return width>=styles_1.WIDESCREEN_BREAKPOINT.min}},"../utils/lib/atoms/medication-title-separator.js":(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0});exports.default=function(dosageInstruction){return((null==dosageInstruction?void 0:dosageInstruction.doseQuantity)||(null==dosageInstruction?void 0:dosageInstruction.doseRange))&&(null==dosageInstruction?void 0:dosageInstruction.patientInstruction)?" - ":""}},"../utils/lib/atoms/metadata.js":(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0});exports.default=function(metadata){return metadata&&metadata.dataSources&&0!==metadata.dataSources.length?metadata.dataSources.map((function(dataSource){return null==dataSource?void 0:dataSource.display})).join(", "):""}},"../utils/lib/atoms/parse-html.js":function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var jsx_runtime_1=__webpack_require__("../../node_modules/react/jsx-runtime.js"),html_react_parser_1=__importDefault(__webpack_require__("../../node_modules/html-react-parser/lib/index.js"));exports.default=function(html){return html?(0,html_react_parser_1.default)(html):(0,jsx_runtime_1.jsx)(jsx_runtime_1.Fragment,{})}},"../utils/lib/atoms/partial-date-time.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.formatLegacyIsoDate=exports.formatPartialDateTimeAsDateOnly=exports.partialDateTimeText=exports.formatDateTime=exports.formatTime=exports.formatDateExplicitMonth=exports.formatDate=void 0;var types_1=__webpack_require__("../types/lib/index.js"),date_fns_1=__webpack_require__("../../node_modules/date-fns/index.js");exports.formatDate=function(date){return date.toLocaleString("en-gb",{day:"2-digit",month:"short",year:"numeric"}).split(" ").join("-")};exports.formatDateExplicitMonth=function(date){return date.toLocaleString("en-gb",{day:"2-digit",month:"long",year:"numeric"}).split(" ").join(" ")};exports.formatTime=function(date){return date.toLocaleString("en-gb",{hour:"2-digit",minute:"2-digit",hour12:!1}).split(" ").join(":")};exports.formatDateTime=function(date){return"".concat((0,exports.formatDateExplicitMonth)(date)," : ").concat((0,exports.formatTime)(date))};exports.partialDateTimeText=function(partialDateTime){if(!partialDateTime||!partialDateTime.value)return"";switch(partialDateTime.kind){case types_1.PartialDateTimeKindCode.Date:return(0,exports.formatDate)(new Date(partialDateTime.value));case types_1.PartialDateTimeKindCode.DateTime:var date=new Date(partialDateTime.value);return"".concat((0,exports.formatDate)(date)," ").concat((0,exports.formatTime)(date));case types_1.PartialDateTimeKindCode.Year:return new Date(partialDateTime.value).toLocaleString("en-gb",{year:"numeric"});case types_1.PartialDateTimeKindCode.YearMonth:return new Date(partialDateTime.value).toLocaleString("en-gb",{month:"short",year:"numeric"}).split(" ").join("-");case types_1.PartialDateTimeKindCode.Time:return(0,exports.formatTime)(new Date(partialDateTime.value));default:return""}};exports.formatPartialDateTimeAsDateOnly=function(partialDateTime){if(!(null==partialDateTime?void 0:partialDateTime.value))return"";var isoString=partialDateTime.value;if(Number(isoString.substring(0,4))>1969){var date=(0,date_fns_1.parseISO)(isoString);return(0,date_fns_1.format)(date,"dd-MMM-yyyy")}return(0,exports.formatLegacyIsoDate)(isoString)};exports.formatLegacyIsoDate=function(isoString){var datePart=isoString.slice(0,10);if(10!==datePart.length)return"";if(!(0,date_fns_1.isMatch)(datePart,"yyyy-MM-dd"))return"";var date=(0,date_fns_1.parseISO)(datePart);return(0,date_fns_1.format)(date,"dd-MMM-yyyy")}},"../utils/lib/atoms/patient.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.formatPatientGender=exports.nhsNumberStatus=exports.formatNHSNumber=exports.formatPatientName=exports.formatPatientAge=exports.formatPatientAddress=void 0;var types_1=__webpack_require__("../types/lib/index.js"),title_case_1=__webpack_require__("../utils/lib/atoms/title-case.js");exports.formatPatientAddress=function(patient){var _a,address;return(null==patient?void 0:patient.address)&&patient.address.length>0&&(address=patient.address.find((function(x){var _a;return!((null==x?void 0:x.use)!==types_1.AddressUseCode.Home||(null==x?void 0:x.period)&&(null===(_a=x.period)||void 0===_a?void 0:_a.end))}))),null!==(_a=null==address?void 0:address.text)&&void 0!==_a?_a:""};exports.formatPatientAge=function(patient,deceased){var _a,_b,_c,start=(null===(_a=null==patient?void 0:patient.birthDate)||void 0===_a?void 0:_a.value)?new Date(patient.birthDate.value):null,end=null;if(end=deceased?(null===(_c=null===(_b=null==patient?void 0:patient.deceased)||void 0===_b?void 0:_b.deceasedDateTime)||void 0===_c?void 0:_c.value)?new Date(patient.deceased.deceasedDateTime.value):null:new Date,null===start||null===end)return"";var yearEnd=end.getFullYear(),monthEnd=end.getMonth(),dateEnd=end.getDate(),yearAge=yearEnd-start.getFullYear(),monthAge=monthEnd-start.getMonth(),dateAge=dateEnd-start.getDate();if(dateAge<0&&(monthAge-=1,dateAge+=32-new Date(monthEnd-1,yearEnd,32).getDate()),monthAge<0&&(yearAge-=1,monthAge+=12),yearAge>=18)return"".concat(yearAge,"y");if(yearAge>=2)return"".concat(yearAge,"y").concat(String(monthAge)?" ".concat(monthAge,"m"):"");if(1===yearAge)return"".concat(12+monthAge,"m").concat(String(dateAge)&&dateAge>0?" ".concat(dateAge,"d"):"");var age=end.getTime()-start.getTime(),hourAge=Math.floor(age/36e5),dayAge=Math.floor(hourAge/24),weekAge=Math.floor(dayAge/7);return weekAge>=4?(dayAge-=7*weekAge,"".concat(weekAge,"w").concat(dayAge?" ".concat(dayAge,"d"):"")):dayAge>=2?"".concat(dayAge,"d"):hourAge>=2?"".concat(hourAge,"hrs"):"".concat(Math.floor(age/6e4),"min")};exports.formatPatientName=function(patient){var _a,_b,_c,_d,patientName,activeName=null===(_a=null==patient?void 0:patient.name)||void 0===_a?void 0:_a.find((function(x){var _a;return!((null==x?void 0:x.period)&&(null===(_a=null==x?void 0:x.period)||void 0===_a?void 0:_a.end)||(null==x?void 0:x.use)!==types_1.HumanNameUseCode.Official)}));activeName||(activeName=null===(_b=null==patient?void 0:patient.name)||void 0===_b?void 0:_b.find((function(x){var _a;return!((null==x?void 0:x.period)&&(null===(_a=null==x?void 0:x.period)||void 0===_a?void 0:_a.end)||(null==x?void 0:x.use)!==types_1.HumanNameUseCode.Usual)}))),activeName||(activeName=null===(_c=null==patient?void 0:patient.name)||void 0===_c?void 0:_c.find((function(x){var _a;return!((null==x?void 0:x.period)&&(null===(_a=null==x?void 0:x.period)||void 0===_a?void 0:_a.end)||(null==x?void 0:x.use))})));var family=null==activeName?void 0:activeName.family,title=(null==activeName?void 0:activeName.prefix)&&activeName.prefix.length>0?activeName.prefix[0]:"",given=null===(_d=null==activeName?void 0:activeName.given)||void 0===_d?void 0:_d.join(" ");return patientName=given?(family?"".concat(family.toUpperCase(),", "):"")+(0,title_case_1.titleCase)(given):family?family.toUpperCase():"",title&&(patientName+=" (".concat((0,title_case_1.titleCase)(title),")")),patientName};exports.formatNHSNumber=function(patient){var _a,_b,value=null===(_b=null===(_a=null==patient?void 0:patient.identifier)||void 0===_a?void 0:_a.find((function(x){return(null==x?void 0:x.system)===types_1.PatientIdentifierType.NhsNumber})))||void 0===_b?void 0:_b.value;return value&&0!==value.length?10===value.length?"".concat(value.substring(0,3)," ").concat(value.substring(3,6)," ").concat(value.substring(6,10)):value:""};exports.nhsNumberStatus=function(patient){var _a,_b,_c,_d,nhsNo=null===(_a=null==patient?void 0:patient.identifier)||void 0===_a?void 0:_a.find((function(x){return(null==x?void 0:x.system)===types_1.PatientIdentifierType.NhsNumber}));if((null==nhsNo?void 0:nhsNo.extension)&&nhsNo.extension.length>0&&(null===(_c=null===(_b=nhsNo.extension[0])||void 0===_b?void 0:_b.valueCodeableConcept)||void 0===_c?void 0:_c.coding)&&nhsNo.extension[0].valueCodeableConcept.coding.length>0){var verifiedCode=null===(_d=nhsNo.extension[0].valueCodeableConcept.coding[0])||void 0===_d?void 0:_d.code;if("01"===verifiedCode)return types_1.NhsNumberStatus.Verified;if("02"===verifiedCode)return types_1.NhsNumberStatus.NotVerified}return types_1.NhsNumberStatus.Unknown};exports.formatPatientGender=function(patient){switch(null==patient?void 0:patient.gender){case types_1.AdministrativeGenderCode.Male:return"Male";case types_1.AdministrativeGenderCode.Female:return"Female";case types_1.AdministrativeGenderCode.Other:return"Other";case types_1.AdministrativeGenderCode.Unknown:default:return"Unknown"}}},"../utils/lib/atoms/period.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0});var partial_date_time_1=__webpack_require__("../utils/lib/atoms/partial-date-time.js");exports.default=function(period){var start=(null==period?void 0:period.start)&&(0,partial_date_time_1.partialDateTimeText)(null==period?void 0:period.start)||"",end=(null==period?void 0:period.end)&&(0,partial_date_time_1.partialDateTimeText)(null==period?void 0:period.end)||"";return""===start&&""===end?"":""===end?"".concat(start," to Present"):""===start?"Unknown to ".concat(end):"".concat(start," to ").concat(end)}},"../utils/lib/atoms/quantity.js":(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0});exports.default=function(quantity){return"".concat(String(null==quantity?void 0:quantity.value)," ").concat(null==quantity?void 0:quantity.unit)}},"../utils/lib/atoms/range.js":function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var quantity_1=__importDefault(__webpack_require__("../utils/lib/atoms/quantity.js"));exports.default=function(range){return"".concat((0,quantity_1.default)(null==range?void 0:range.low)," - ").concat((0,quantity_1.default)(null==range?void 0:range.high))}},"../utils/lib/atoms/resource-reference.js":(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0});exports.default=function(resourceReferences){return void 0===resourceReferences&&(resourceReferences=[]),resourceReferences.map((function(resourceReference){return null==resourceReference?void 0:resourceReference.display})).join(", ")}},"../utils/lib/atoms/strings.js":(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.stringToHtmlId=void 0;exports.stringToHtmlId=function(input){if("string"!=typeof input)throw new TypeError("Input must be a string");return 0===input.length?"":input.toLowerCase().replace(/[,:;']/g,"").replace(/[&/]/g,"-").trim().replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"")}},"../utils/lib/atoms/strip-bb-tags.js":(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0});exports.default=function(value){return(null!=value?value:"").replace(/(\[([^\]]+)\])/gi,"")}},"../utils/lib/atoms/strip-html-tags.js":(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0});exports.default=function(value){return(null!=value?value:"").replace(/(<([^>]+)>)/gi,"")}},"../utils/lib/atoms/title-case.js":(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.titleCase=void 0;exports.titleCase=function(value){return value&&0!==value.length?value.toLowerCase().split(/\s|_/).map((function(word){return word.length>0?word.replace(word[0],word[0].toUpperCase()):word})).join(" "):""},exports.default=exports.titleCase},"../utils/lib/index.js":function(__unused_webpack_module,exports,__webpack_require__){var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);desc&&!("get"in desc?!m.__esModule:desc.writable||desc.configurable)||(desc={enumerable:!0,get:function(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__exportStar=this&&this.__exportStar||function(m,exports){for(var p in m)"default"===p||Object.prototype.hasOwnProperty.call(exports,p)||__createBinding(exports,m,p)};Object.defineProperty(exports,"__esModule",{value:!0}),__exportStar(__webpack_require__("../utils/lib/atoms/index.js"),exports)}}]);